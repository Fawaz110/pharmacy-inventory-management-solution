@model MedicineVM
@{
    string location = ViewBag.Location;
    var medicineList = (IEnumerable<Medicine>)ViewData["medicine"]!;
    TempData["location"] = location;
    ViewData["Title"] = "Company";
}

@if (location == "" || location == null)
{
    <div class="container h-100 px-4 d-flex flex-column justify-content-evenly text-light">
        <div class="container h-100 px-4 py-4 text-light">
            <div class="row search-box card-gray p-2 mb-4">
                <div class="col-12 mb-2"><h2>Search For Medicine</h2></div>
                <div class="col-12">
                    <form>
                        <div class="row mb-2">
                            <div class="col-6 mb-2">
                                <label for="name" class="mb-2">Medicine name</label>
                                <input type="text" name="name" id="" class="form-control" placeholder="Medicine name">
                            </div>
                            <div class="col-6 mb-2">
                                <label for="Production" class="mb-2">Production date</label>
                                <input type="date" name="Production" id="Production" class="form-control" placeholder="Production date">
                            </div>
                            <div class="col-6 mb-2">
                                <label for="Expiry" class="mb-2">Expiry date</label>
                                <input type="date" name="Expiry" id="Expiry" class="form-control" placeholder="Expiry date">
                            </div>
                            <div class="col-6 mb-2">
                                <label for="location" class="mb-2">Inventory location</label>
                                <input type="text" name="" id="location" class="form-control" placeholder="Inventory location">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12 d-flex flex-row-reverse">
                                <input type="submit" value="Search" class="btn btn-outline-green w-100">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="row mb-2">
                <table class="table-main w-100 card-main">
                    <thead class="w-100">
                        <tr class="border-bottom">
                            <th colspan="2">
                                <h3 class="mx-2 my-3">Inventory Name: </h3>
                            </th>
                            <th colspan="2">
                                <h3 class="mx-2 my-3">Inventory Location: </h3>
                            </th>
                        </tr>
                        <tr class="border-bottom text-center">
                            <th>
                                <p class="mx-2 my-3">Name</p>
                            </th>
                            <th>
                                <p class="mx-2 my-3">Category</p>
                            </th>
                            <th>
                                <p class="mx-2 my-3">Price</p>
                            </th>
                            <th>
                                <p class="mx-2 my-3">Amount</p>
                            </th>
                            <th>
                                <p class="mx-2 my-3">Details</p>
                            </th>
                        </tr>
                    </thead>

                    <tbody class="w-100 text-center">
                        @foreach (var item in medicineList)
                        {
                            <tr>
                                <td>
                                    <p class="mx-2 my-3">@item.Name</p>
                                </td>
                                <td>
                                    <p class="mx-2 my-3">@Math.Truncate(item.Price) EGP</p>
                                </td>
                                <td>
                                    <p class="mx-2 my-3">category</p>
                                </td>
                                <td>
                                    <p class="mx-2 my-3">200</p>
                                </td>
                                <td>
                                    <a asp-action="Details" asp-route-id="@item.Id" class="btn btn-outline-warning mx-2 my-3">Details</a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>

            </div>
        </div>
    </div>
}
else
{
    <div class="container h-100 px-4 d-flex flex-column justify-content-evenly text-light">
        <div class="container h-100 px-4 py-4 text-light">
            <div class="row mb-4">
                <div class="col-md-6">
                    <div class="card-gray me-1 p-2 row">
                        <div class="col-12 mb-2"><h2>Search For Medicine</h2></div>
                        <div class="col-12">
                            <form>
                                <div class="row mb-2">
                                    <div class="col-12 mb-2">
                                        <input type="text" name="" id="" class="form-control" placeholder="Medicine name">
                                    </div>
                                    <div class="col-12 mb-2">
                                        <input type="text" name="" id="" class="form-control" placeholder="Production date">
                                    </div>
                                    <div class="col-12 mb-2">
                                        <input type="text" name="" id="" class="form-control" placeholder="Expiry date">
                                    </div>
                                    <input type="hidden" name="" value="@location" id="" class="form-control" placeholder="Expiry date">
                                </div>
                                <div class="row">
                                    <div class="col-12 d-flex flex-row-reverse">
                                        <input type="submit" value="Search" class="btn btn-outline-green">
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card-gray p-2 ms-1 row h-100">
                        <div class="col-12">
                            <div class="row align-items-center justify-content-between h-100">
                                <div class="col-8">
                                    <p><b>Name: </b>Inventory01</p>
                                    <p><b>Location: </b>@location</p>
                                </div>
                                <div class="col-4">
                                    <h2 class="display-1"><i class="fa-solid fa-warehouse"></i></h2>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mb-2">
                <table class="table-main w-100 card-main">
                    <thead class="w-100">
                        <tr class="border-bottom text-center">
                            <th>
                                <p class="mx-2 my-3">Name</p>
                            </th>
                            <th>
                                <p class="mx-2 my-3">Price</p>
                            </th>
                            <th>
                                <p class="mx-2 my-3">Amount</p>
                            </th>
                            <th>
                                <p class="mx-2 my-3">Details</p>
                            </th>
                        </tr>
                    </thead>

                    <tbody class="w-100 text-center">
                        <tr>
                            <td>
                                <p class="mx-2 my-3">Asprine</p>
                            </td>
                            <td>
                                <p class="mx-2 my-3">10 EGP</p>
                            </td>
                            <td>
                                <p class="mx-2 my-3">200</p>
                            </td>
                            <td>
                                <button class="btn btn-outline-warning mx-2 my-3">Details</button>
                            </td>
                        </tr>
                    </tbody>
                </table>

            </div>
        </div>
    </div>
}

<!-- Your HTML code for the button and form -->
<div class="btn-collection">
    <div class="position-relative">
        <button class="btn-floating btn-add-medicine btn btn-green btn-lg" title="Add medicine">
            <i class="fa-solid fa-hand-holding-medical"></i>
        </button>
        <button class="btn-floating btn-add-inventory btn btn-green btn-lg" title="Add inventory">
            <i class="fa-solid fa-warehouse"></i>
        </button>
        <button class="btn-show btn btn-green btn-lg" title="Add item">
            <i class="fa-solid fa-plus"></i>
        </button>
    </div>
</div>
<div class="layer row align-items-center justify-content-center" style="display: none;">
    <div class="col-4">
        <div class="card-gray p-4">
            <h2 class="text-main mb-4">Add Medicine</h2>
            <form action="AddMedicine" method="post" enctype="multipart/form-data">
                <div class="row mb-2">
                    <div class="col-12">
                        <input type="text" asp-for="@Model.Name" id="" class="form-control" placeholder="Medicine name">
                    </div>
                </div>
                <div class="row mb-2">
                    <div class="col-12">
                        <input type="text" asp-for="@Model.Category" id="" class="form-control" placeholder="Medicine category">
                    </div>
                </div>
                <div class="row mb-2">
                    <div class="col-6">
                        <input type="number" asp-for="@Model.Price" step=".10" min="1" id="" class="form-control"
                               placeholder="Price">
                    </div>
                    <div class="col-6">
                        <input type="number" name="" min="1" id="" class="form-control" placeholder="Quantity">
                    </div>
                </div>
                <div class="row mb-2">
                    <div class="col-6">
                        <input type="date" asp-for="@Model.ProductionDate" value="@DateTime.Now" id="" class="form-control" placeholder="Production Date">
                    </div>
                    <div class="col-6">
                        <input type="date" asp-action="@Model.ExpiryDate" value="@DateTime.Now.AddMonths(3)" id="" class="form-control" placeholder="Expiry Date">
                    </div>
                </div>
                @if (location == "" || location is null)
                {
                    <div class="row mb-2">
                        <div class="col-12">
                            <input list="InventoryLocation" class="form-control" placeholder="Inventory location" />
                            <datalist id="InventoryLocation">
                                <option value="first" />
                                <option value="second" />
                                <option value="third" />
                            </datalist>
                        </div>
                    </div>
                }
                else
                {
                    <input type="hidden" class="form-control" placeholder="Inventory location" value="@location" />

                }
                <div class="row mb-2">
                    <div class="col-12">
                        <textarea class="form-control" asp-for="@Model.Indecations" placeholder="Indecations" id="" cols="30"
                                  rows="3"></textarea>
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-12">
                        <textarea class="form-control" asp-for="@Model.SideEffects" placeholder="Side effects" id="" cols="30"
                                  rows="3"></textarea>
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-12">
                        <label asp-for="@Model.Image" class="text-white mb-2">Medicine Image</label>
                        <input type="file" class="form-control" asp-for="@Model.Image"/>
                    </div>
                </div>
                <div class="row mb-2">
                    <div class="col-12 d-flex flex-row-reverse">
                        <input type="reset" value="CANCEL" id="" class="btn btn-outline-warning"
                               placeholder="Expiry date">
                        <input type="submit" value="ADD MEDICINE" id="" class="btn btn-outline-green me-2"
                               placeholder="Expiry date">
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- Rest of your HTML code -->
<!-- Include jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Your script -->
<script>
    $(document).ready(function () {

        $('.btn-show').on('click', () => {
            if ($('.btn-add-inventory').css('transform') == 'matrix(1, 0, 0, 1, 0, -60)') {
                $('.btn-add-inventory').css('transform', 'translateY(0)')
                $('.btn-add-inventory').css('z-index', 100)
                $('.btn-add-medicine').css('z-index', 100)
                $('.btn-add-medicine').css('transform', 'translateY(0)')
            }
            else {
                $('.btn-add-medicine').css('transform', 'translateY(-120px)')
                console.log($('.btn-add-medicine').css('transform'));
                $('.btn-add-inventory').css('transform', 'matrix(1, 0, 0, 1, 0, -60)')
                $('.btn-add-inventory').css('z-index', 101)
                $('.btn-add-medicine').css('z-index', 101)
            }
        })
        $('.btn-floating').on('click',()=>{
            $('.btn-add-inventory').css('transform', 'translateY(0)')
            $('.btn-add-inventory').css('z-index', 100)
            $('.btn-add-medicine').css('z-index', 100)
            $('.btn-add-medicine').css('transform', 'translateY(0)')
        })
        $(".btn-add-medicine").on('click', () => {
            $('.layer').fadeIn(100);
        });

        $("[type='reset']").on('click', () => {
            $('.layer').fadeOut(100);
        });
    });
</script>